{% extends "layout.html" %}
{% block title %}Vianu Biologists{% endblock %}

{% block content %}
<div class="homepage">

  <header class="hp-header">
    <h1 class="brand-title"><span>Vianu Biologists</span></h1>
  </header>

  <section class="dna-layout">

    <!-- dreapta sus -->
    <article class="dna-box box-about" id="box-about">
      <h2>CINE SUNTEM?</h2>
      <p>Despre club, valori, proiecte.</p>
      <a class="btn" href="{{ url_for('about') }}">Vezi echipa</a>
    </article>

    <!-- stânga mijloc -->
    <article class="dna-box box-gallery" id="box-gallery">
      <h2>GALERIE</h2>
      <p>Proiecte & evenimente.</p>
      <a class="btn ghost" href="{{ url_for('blog') }}#galerie">Deschide</a>
    </article>

    <!-- dreapta jos -->
    <article class="dna-box box-blog" id="box-blog">
      <h2>BLOG</h2>
      <p>Ultimele noutăți.</p>
      <a class="btn" href="{{ url_for('blog') }}">Citește</a>
    </article>

    <!-- coloana centrală: ADN animat -->
    <div class="dna-center">
      <div class="wrapper">
        <div class="dna">
          {% for i in range(24) %}
            <div style="--i: {{ i }}"></div>
          {% endfor %}
        </div>
      </div>
    </div>

  </section>
</div>

<style>
/* ================== PALETĂ NOUĂ (bej-gălbui pal) ================== */
:root{
  /* noul fundal general */
  --page-bg: #f6f1e6;        /* bej pal */
  --page-bg-accent: #f1eadb; /* o idee mai închis pentru degrade */
  --ink: #2a2a2a;

  /* accente brand */
  --brand-1: #2e7d32;    /* verde */
  --brand-2: #1976d2;    /* albastru */
  --brand-3: #e6a014;    /* auriu cald pt titlu */

  /* ===== variabile ADN (adaptate pt fundal deschis) ===== */
  --rotate: -90deg;
  --unit: 1vmin;
  --zoom: 160;
  --workspace-min: 768;
  --upx: calc(var(--zoom) * (var(--unit) / var(--workspace-min)));

  --animation-speed: 1;
  --helix-duration: 0.5s;
  --helix-iteration-factor: 0.05s;

  --dna-max-height: calc(140 * var(--upx));
  --dna-nitrogenous-base-width: calc(6 * var(--upx));
  --dna-nitrogenous-base-margin: calc(8 * var(--upx));
  --dna-sugar-diameter: calc(15 * var(--upx));
  --dna-sugar-border-size: calc(6 * var(--upx));

  --color-background: var(--page-bg); /* important: ADN se bazează pe asta */
  --color-sugar: #fffdf7;             /* puțin mai luminos decât fundalul */
  --color-A: #ffba36;
  --color-T: #26c826;
  --color-C: #3c8fd0;
  --color-G: #e66350;
}

@media (orientation: portrait){ :root{ --rotate: -58deg; } }

/* ================== RESEt/uX ================== */
html, body{ padding:0; margin:0; height:100%; }
body{
  color: var(--ink);
  background:
    radial-gradient(1200px 300px at 12% -15%, rgba(233, 210, 160, .25), transparent 60%),
    radial-gradient(1000px 280px at 88% -10%, rgba(121, 173, 110, .18), transparent 60%),
    linear-gradient(180deg, var(--page-bg), var(--page-bg-accent) 65%);
}

/* ================== HEADER ================== */
.hp-header{
  text-align:center;
  padding: 1.5rem 1rem .5rem; /* "mai sus" decât înainte */
}
.brand-title{
  margin:0;
  line-height:1.1;
}
.brand-title span{
  display:inline-block;
  font-weight: 900;
  letter-spacing: .6px;
  font-size: clamp(28px, 5.2vw, 54px);
  /* text gradient fancy */
  background: linear-gradient(90deg, var(--brand-3), #8cc63f 40%, #35a0ff);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  position: relative;
  padding: 2px 6px;
}
.brand-title span::after{
  content:"";
  position:absolute;
  left:10%; right:10%; bottom:-8px; height:6px;
  background: linear-gradient(90deg, #d6b35e, #79b85f, #5aa8ff);
  border-radius: 999px;
  transform: scaleX(.35);
  transform-origin: left;
  transition: transform .5s cubic-bezier(.2,.7,0,1);
  opacity:.85;
}
.brand-title span:hover::after{ transform: scaleX(1); }

/* ================== LAYOUT CENTRAL ================== */
.homepage{ position: relative; }
.dna-layout{
  position: relative;
  min-height: 72vh;
  display: grid;
  grid-template-columns: 1fr minmax(280px, 520px) 1fr;
  grid-template-rows: 1fr 1fr;
  gap: 2rem;
  align-items: center;
  width: min(1200px, 94%);
  margin: 0 auto 32px;
}

/* casetele (vizibile permanent) */
.dna-box{
  background: #fffdf7;
  color: var(--ink);
  padding: 1rem 1rem .85rem;
  border-radius: 14px;
  border: 1px solid rgba(30,30,30,.08);
  box-shadow: 0 8px 22px rgba(0,0,0,.06);
  width: min(320px, 90%);
}
.dna-box h2{ margin:0 0 .25rem; font-size: 1.05rem; letter-spacing:.3px; }
.dna-box p{ margin:.2rem 0 .7rem; opacity:.9; }
.dna-box .btn{
  display:inline-block; padding:.5rem .9rem; border-radius:10px;
  background:#2e7d32; color:#fff; text-decoration:none; font-weight:700;
  box-shadow: 0 6px 16px rgba(46,125,50,.22);
}
.dna-box .btn.ghost{
  background: transparent; border:1px solid #1976d2; color:#135aa5;
  box-shadow: none;
}

/* poziționare în jurul helixului */
.box-about{  grid-column: 3; grid-row: 1; justify-self: start; }
.box-gallery{grid-column: 1; grid-row: 1 / span 2; align-self: center; justify-self: end;}
.box-blog{   grid-column: 3; grid-row: 2; justify-self: start; }

/* zona ADN */
.dna-center{
  grid-column: 2; grid-row: 1 / span 2;
  display: grid; place-items: center;
  min-height: 520px;
  position: relative;
}

/* ================== ADN ANIMAT (nemodificat funcțional, doar culori) ================== */
.wrapper{ transform: rotate(var(--rotate)); transform-origin: 50% 50%; }
.dna{
  display: flex; align-items: center; position: relative; height: var(--dna-max-height);
}
.dna > div{
  font-size: 0;
  position: relative;
  width: var(--dna-nitrogenous-base-width);
  height: 0;
  background: linear-gradient(0deg, var(--color-G) 50%, var(--color-C) 50%);
  display: inline-block;
  margin: 0 var(--dna-nitrogenous-base-margin);
  animation: double-helix ease calc(var(--helix-duration) / var(--animation-speed))
             calc((var(--i) * var(--helix-iteration-factor)) / var(--animation-speed))
             alternate infinite;
  border-radius: 2px;
}
.dna > div:nth-child(2n){
  background: linear-gradient(0deg, var(--color-A) 50%, var(--color-T) 50%);
}
@keyframes double-helix{ to{ height: var(--dna-max-height); } }

.dna > div::before, .dna > div::after{
  content:"";
  position: absolute; left: 50%;
  width: var(--dna-sugar-diameter); height: var(--dna-sugar-diameter);
  display:block; border-radius: 50%;
  background: var(--color-sugar);
  border: var(--dna-sugar-border-size) solid var(--color-background);
  box-sizing: content-box;
  box-shadow: 0 3px 10px rgba(0,0,0,.04);
}
.dna > div::before{ top: 0; transform: translate(-50%, -50%); }
.dna > div::after{ bottom: 0; transform: translate(-50%, 50%); }

/* ================== RESPONSIVE ================== */
@media (max-width: 980px){
  .dna-layout{
    grid-template-columns: 1fr;
    grid-template-rows: auto auto auto auto;
    gap: 18px;
  }
  .dna-center{ grid-column: 1; grid-row: 1; min-height: 420px; }
  .box-gallery, .box-about, .box-blog{
    grid-column: 1; grid-row: auto; justify-self: center;
    width: min(520px, 92%);
  }
}
</style>
{% endblock %}
